System.register(["./element-plus-legacy.js","./index-legacy22.js","./config-legacy.js","./upload-legacy.js","./index-legacy.js","./@vue-legacy.js","./dayjs-legacy.js","./ace-builds-legacy.js","./@element-plus-legacy.js","./lodash-es-legacy.js","./@popperjs-legacy.js","./async-validator-legacy.js","./@ctrl-legacy.js","./memoize-one-legacy.js","./normalize-wheel-es-legacy.js","./pinia-legacy.js","./pinia-plugin-persist-legacy.js","./vue-router-legacy.js","./axios-legacy.js","./js-cookie-legacy.js","./nprogress-legacy.js","./saduo-legacy.js"],function(e,l){"use strict";var a,o,t,s,n,d,u,i,r,c,m,p,g,y,f,V,_,b,j,w,h,v,x,k,U,C,q,O,S,z;return{setters:[e=>{a=e.n,o=e.q,t=e.r,s=e.s,n=e.W,d=e.S,u=e.T,i=e.a,r=e.U,c=e.f,m=e.m,p=e.E},e=>{g=e.g,y=e.u},e=>{f=e.default},e=>{V=e.u},e=>{_=e._},e=>{b=e.r,j=e.W,w=e.n,h=e.aj,v=e.ar,x=e.c,k=e.o,U=e.V,C=e.L,q=e.K,O=e.H,S=e.S,z=e.a3},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var l=document.createElement("style");l.textContent=".logo[data-v-eab62dc3]{width:100%;max-width:80px;height:auto}\n/*$vite$:1*/",document.head.appendChild(l);const E={class:"bg-fff radius-6 pd-20"};e("default",_({__name:"index",setup(e){const l=b("first"),_=b(null),I=b(null),L=j({id:"",name:"",domain:"",logo:"",email:"",icp:"",code:""}),R=j({id:"",title:"",keywords:"",description:""});async function T(){try{const e=await g();if(200===e.code){const{id:l,name:a,domain:o,logo:t,email:s,icp:n,title:d,keywords:u,description:i}=e.data;Object.assign(L,{id:l,name:a,logo:t,domain:o,email:s,icp:n}),Object.assign(R,{id:l,title:d,keywords:u,description:i})}else p({message:e.msg,type:"warning"})}catch(e){console.error(e)}}const W=e=>-1===e.type.indexOf("image")?(p("上传文件只能是图片格式"),!1):!(e.size/1024/1024>.2&&(p("上传图片必须小于200k"),1)),$=async e=>{const l=new FormData;l.append("file",e.file);const a=await V(l,"5");200===a.code&&(L.logo=a.data.path)};async function D(e){try{const l=await y(e);200===l.code?(p({message:"更新成功^_^",type:"success"}),await T()):p({message:l.msg,type:"warning"})}catch(l){console.error(l)}}function F(e){l.value=e.paneName}function H(e){e.validate(async e=>{e?"first"===l.value?await D(L):await D(R):console.log("error submit!!")})}return w(T),(e,p)=>{const g=s,y=t,V=h("MostlyCloudy"),b=i,j=u,w=d,T=r,D=n,K=c,M=o,N=a,P=m,A=v("permission-disabled");return k(),x("div",E,[U(P,{modelValue:l.value,"onUpdate:modelValue":p[11]||(p[11]=e=>l.value=e),onTabClick:F},{default:C(()=>[U(N,{label:"基本设置",class:"mt-20",name:"first"},{default:C(()=>[U(M,{ref_key:"infoRef",ref:_,model:L,"label-width":"84px"},{default:C(()=>[U(y,{label:"网站名称",prop:"name",rules:[{required:!0,message:"请输入网站名称",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}]},{default:C(()=>[U(g,{modelValue:L.name,"onUpdate:modelValue":p[0]||(p[0]=e=>L.name=e)},null,8,["modelValue"])]),_:1}),U(y,{label:"Logo"},{default:C(()=>[U(g,{modelValue:L.logo,"onUpdate:modelValue":p[1]||(p[1]=e=>L.logo=e)},null,8,["modelValue"]),U(D,{class:"mt-10"},{default:C(()=>[U(w,{class:"avatar-uploader","http-request":$,"show-file-list":!1,"before-upload":W},{default:C(()=>[U(j,{placement:"top-start",title:"上传",width:200,trigger:"hover",content:"上传图片作为封面图，大小200k内"},{reference:C(()=>[U(b,{class:"avatar-uploader-icon"},{default:C(()=>[U(V)]),_:1})]),_:1})]),_:1}),L.logo?(k(),q(j,{key:0,placement:"right",width:600,trigger:"hover"},{reference:C(()=>[U(T,{class:"logo pointer ml-10",src:L.logo},null,8,["src"])]),default:C(()=>[U(T,{src:L.logo},null,8,["src"])]),_:1})):O("",!0)]),_:1})]),_:1}),U(y,{prop:"domain",label:"网站域名"},{default:C(()=>[U(g,{modelValue:L.domain,"onUpdate:modelValue":p[2]||(p[2]=e=>L.domain=e)},null,8,["modelValue"])]),_:1}),U(y,{prop:"email",label:"站长邮箱"},{default:C(()=>[U(g,{modelValue:L.email,"onUpdate:modelValue":p[3]||(p[3]=e=>L.email=e),rules:[{type:"email",message:"请输入正确的邮箱",trigger:["blur","change"]}]},null,8,["modelValue"])]),_:1}),U(y,{prop:"icp",label:"ICP备案号"},{default:C(()=>[U(g,{modelValue:L.icp,"onUpdate:modelValue":p[4]||(p[4]=e=>L.icp=e)},null,8,["modelValue"])]),_:1}),U(y,{prop:"code",label:"统计代码"},{default:C(()=>[U(g,{type:"textarea",rows:3,modelValue:L.code,"onUpdate:modelValue":p[5]||(p[5]=e=>L.code=e)},null,8,["modelValue"])]),_:1}),U(y,null,{default:C(()=>[S((k(),q(K,{type:"primary",onClick:p[6]||(p[6]=e=>H(_.value))},{default:C(()=>[...p[12]||(p[12]=[z("保存",-1)])]),_:1})),[[A,["editor","admin","super"]]])]),_:1})]),_:1},8,["model"])]),_:1}),U(N,{label:"SEO设置",class:"mt-20",name:"second"},{default:C(()=>[U(M,{ref_key:"seoRef",ref:I,model:R,"label-width":"84px"},{default:C(()=>[U(y,{label:"标题",prop:"title",rules:[{required:!0,message:"请输入网站标题",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}]},{default:C(()=>[U(g,{modelValue:R.title,"onUpdate:modelValue":p[7]||(p[7]=e=>R.title=e)},null,8,["modelValue"])]),_:1}),U(y,{prop:"keywords",label:"关键词"},{default:C(()=>[U(g,{modelValue:R.keywords,"onUpdate:modelValue":p[8]||(p[8]=e=>R.keywords=e)},null,8,["modelValue"])]),_:1}),U(y,{prop:"description",label:"描述",rules:[{min:2,max:255,message:"字数限制255",trigger:"blur"}]},{default:C(()=>[U(g,{type:"textarea",rows:3,modelValue:R.description,"onUpdate:modelValue":p[9]||(p[9]=e=>R.description=e)},null,8,["modelValue"])]),_:1}),U(y,null,{default:C(()=>[S((k(),q(K,{type:"primary",onClick:p[10]||(p[10]=e=>H(I.value))},{default:C(()=>[...p[13]||(p[13]=[z("保存",-1)])]),_:1})),[[A,["editor","admin","super"]]])]),_:1})]),_:1},8,["model"])]),_:1}),U(f)]),_:1},8,["modelValue"])])}}},[["__scopeId","data-v-eab62dc3"]]))}}});
