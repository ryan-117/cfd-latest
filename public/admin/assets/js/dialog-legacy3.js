System.register(["./element-plus-legacy.js","./@vue-legacy.js","./@element-plus-legacy.js","./index-legacy.js"],function(e,l){"use strict";var a,o,t,d,r,i,n,u,c,s,m,p,f,_,h,b,y,v,g,V,C,k,x,w,S,U,M,B,A,P,j,D,E,I,L,$;return{setters:[e=>{a=e.q,o=e.r,t=e.B,d=e.C,r=e.J,i=e.s,n=e.a,u=e.f,c=e.D,s=e.u,m=e.G,p=e.E},e=>{f=e.e,_=e.r,h=e.W,b=e.w,y=e.aj,v=e.c,g=e.o,V=e.V,C=e.L,k=e.K,x=e.H,w=e.a3,S=e.a,U=e.O,M=e.M,B=e.I,A=e.ab,P=e.P},e=>{j=e.G},e=>{D=e.h,E=e.A,I=e._,L=e.t,$=e.a}],execute:function(){var l=document.createElement("style");l.textContent=".icon-list[data-v-4dc3b991]{max-height:60vh;overflow-y:auto}.icon-item[data-v-4dc3b991]{padding:12px;cursor:pointer;transition:all .3s}.icon-item[data-v-4dc3b991]:hover{background-color:var(--el-color-primary-light-9)}.icon-wrapper[data-v-4dc3b991]{display:flex;flex-direction:column;align-items:center;gap:8px}.icon[data-v-4dc3b991]{width:2em;height:2em}.icon-name[data-v-4dc3b991]{font-size:12px;text-align:center;word-break:break-all}.icon-suffix[data-v-4dc3b991]{width:1em;height:1em;vertical-align:middle}.icon-suffix-container[data-v-4dc3b991]{display:flex;align-items:center;gap:8px;padding-right:8px}.clear-icon[data-v-4dc3b991]{cursor:pointer;color:#999;transition:color .2s}.clear-icon[data-v-4dc3b991]:hover{color:#666}.selected-icon[data-v-4dc3b991]{width:1em;height:1em}\n/*$vite$:1*/",document.head.appendChild(l);let q=e("l",(e={})=>D({url:`${E.BASE_API}/base/menu/list`,method:"get",params:e}));e("r",(e={})=>D({url:`${E.BASE_API}/base/menu/delete`,method:"get",params:e}));const O={class:"icon-suffix-container"},F={key:4},G={class:"dialog-footer"},N={class:"icon-list"},R={class:"icon-wrapper"},z={class:"icon-name"},H={__name:"dialog",props:{visible:{type:Boolean,default:!1},id:{type:Number,default:0}},emits:["update:visible","success"],setup(e,{emit:l}){const I=e,H=l,J=f({get:()=>I.visible,set:e=>H("update:visible",e)}),K=_(null),T=h({menus:[],form:{id:0,pid:"",title:"",name:"",order_num:"0",path:"",component:"",is_frame:"2",type:"M",is_show:"1",is_cache:"2",perms:"",icon:""}});b(()=>I.visible,async e=>{if(e){ee();const e=Number(I.id)||0;alert(e),T.form.id=e,W()}});const W=async()=>{try{let e=T.form.id,l=await((e={})=>D({url:`${E.BASE_API}/base/menu/detail`,method:"get",params:e}))({id:e});200==l.code&&(T.form=l.data)}catch(e){console.error(e)}},Q=async()=>{try{let{id:e,...l}=T.form,a=l;e>0&&(a.id=e);const o=await((e={})=>D({url:`${E.BASE_API}/base/menu/create`,method:"post",data:e}))(a);200===o.code?(p({message:"创建成功 ^_^",type:"success"}),Y()):p({message:o.msg,type:"error"})}catch(e){console.log(e)}},X=async()=>{try{let e=T.form;const l=await((e={})=>D({url:`${E.BASE_API}/base/menu/update`,method:"post",data:e}))(e);200===l.code?(p({message:"更新成功 ^_^",type:"success"}),Y()):p({message:l.msg,type:"error"})}catch(e){console.log(e)}},Y=()=>{H("update:visible",!1),Z()},Z=()=>{T.form={id:0,pid:"",title:"",name:"",order_num:"0",path:"",component:"",is_frame:"2",type:"M",is_show:"1",is_cache:"2",perms:"",icon:""},T.menus=[]},ee=async()=>{try{const e=await q();if(200===e.code){const l={id:0,label:"主类目",children:[]},a=L(e.data.list),o=$(a,"title","id");l.children=o,T.menus=[l]}}catch(e){console.log(e)}};ee();const le=_(!1),ae=_(["DataLine","Monitor","Grid","MagicStick","Operation","Setting","User","House","Notification","MessageBox","DataBoard","Notebook","Collection","Postcard","SetUp","DataAnalysis","CreditCard","Cpu","Link","Connection","Position","Odometer","ChatLineRound","ChatSquare","ChatRound","ChatLineSquare","ChatDotSquare","Bell","PieChart","Compass","Filter","Message","MessageBox","Crop","SwitchButton","Operation","DataLine","Monitor","Location","Guide","Box","MagicStick","Goods","Coin"]),oe=()=>{T.form.icon="",K.value&&K.value.validateField("icon")};return(e,l)=>{const p=d,f=t,_=o,h=r,b=i,D=y("Close"),E=n,I=a,L=u,$=c,q=m,H=s;return g(),v(B,null,[V($,{modelValue:J.value,"onUpdate:modelValue":l[13]||(l[13]=e=>J.value=e),title:"编辑",onClose:Y},{footer:C(()=>[S("span",G,[V(L,{onClick:U(Y,["stop"])},{default:C(()=>[...l[22]||(l[22]=[w("取消",-1)])]),_:1}),V(L,{type:"primary",onClick:l[12]||(l[12]=e=>(e=>{e&&e.validate(e=>{if(!e)return console.log("error submit!!"),!1;T.form.id?X():Q()})})(K.value))},{default:C(()=>[...l[23]||(l[23]=[w("确定",-1)])]),_:1})])]),default:C(()=>[V(I,{model:T.form,ref_key:"formRef",ref:K,"label-width":"84px"},{default:C(()=>[V(_,{label:"节点类型",prop:"type"},{default:C(()=>[V(f,{modelValue:T.form.type,"onUpdate:modelValue":l[0]||(l[0]=e=>T.form.type=e)},{default:C(()=>[V(p,{label:"目录",value:"M"},{default:C(()=>[...l[15]||(l[15]=[w("目录",-1)])]),_:1}),V(p,{label:"菜单",value:"C"},{default:C(()=>[...l[16]||(l[16]=[w("菜单",-1)])]),_:1}),V(p,{label:"按钮",value:"F"},{default:C(()=>[...l[17]||(l[17]=[w("按钮",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),V(_,{label:"上级节点",prop:"pid"},{default:C(()=>[V(h,{modelValue:T.form.pid,"onUpdate:modelValue":l[1]||(l[1]=e=>T.form.pid=e),data:T.menus,"render-after-expand":!1,"check-strictly":"","show-count":!0,"node-key":"id",class:"w-full"},null,8,["modelValue","data"])]),_:1}),V(_,{label:"节点名称",prop:"title"},{default:C(()=>[V(b,{modelValue:T.form.title,"onUpdate:modelValue":l[2]||(l[2]=e=>T.form.title=e),placeholder:"请输入节点名称"},null,8,["modelValue"])]),_:1}),"F"!==T.form.type?(g(),k(_,{key:0,label:"节点图标"},{default:C(()=>[V(b,{modelValue:T.form.icon,"onUpdate:modelValue":l[3]||(l[3]=e=>T.form.icon=e),placeholder:"点击选择图标",readonly:"",onClick:l[4]||(l[4]=e=>le.value=!0)},{suffix:C(()=>[S("span",O,[T.form.icon?(g(),k(E,{key:0,class:"clear-icon",onClick:U(oe,["stop"])},{default:C(()=>[V(D)]),_:1})):x("",!0),T.form.icon?(g(),k(M(T.form.icon),{key:1,class:"selected-icon"})):x("",!0)])]),_:1},8,["modelValue"])]),_:1})):x("",!0),"F"!==T.form.type?(g(),k(_,{key:1,label:"显示排序",prop:"order_num"},{default:C(()=>[V(b,{modelValue:T.form.order_num,"onUpdate:modelValue":l[5]||(l[5]=e=>T.form.order_num=e),type:"number",placeholder:"请输入菜单排序"},null,8,["modelValue"])]),_:1})):x("",!0),"C"==T.form.type||"M"==T.form.type?(g(),k(_,{key:2,label:"路由名称",prop:"name"},{default:C(()=>[V(b,{modelValue:T.form.name,"onUpdate:modelValue":l[6]||(l[6]=e=>T.form.name=e),placeholder:"请输入菜单名称"},null,8,["modelValue"])]),_:1})):x("",!0),"C"==T.form.type||"M"==T.form.type?(g(),k(_,{key:3,label:"路由地址"},{default:C(()=>[V(b,{modelValue:T.form.path,"onUpdate:modelValue":l[7]||(l[7]=e=>T.form.path=e),placeholder:"请输入路由地址"},null,8,["modelValue"])]),_:1})):x("",!0),"C"==T.form.type?(g(),v("div",F,[V(_,{label:"组件路径"},{default:C(()=>[V(b,{modelValue:T.form.component,"onUpdate:modelValue":l[8]||(l[8]=e=>T.form.component=e),placeholder:"请输入组件路径"},null,8,["modelValue"])]),_:1}),V(_,{label:"是否缓存"},{default:C(()=>[V(f,{modelValue:T.form.is_cache,"onUpdate:modelValue":l[9]||(l[9]=e=>T.form.is_cache=e)},{default:C(()=>[V(p,{label:"缓存",value:"1"},{default:C(()=>[...l[18]||(l[18]=[w("缓存",-1)])]),_:1}),V(p,{label:"不缓存",value:"2"},{default:C(()=>[...l[19]||(l[19]=[w("不缓存",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),V(_,{label:"显示状态"},{default:C(()=>[V(f,{modelValue:T.form.is_show,"onUpdate:modelValue":l[10]||(l[10]=e=>T.form.is_show=e)},{default:C(()=>[V(p,{label:"显示",value:"1"},{default:C(()=>[...l[20]||(l[20]=[w("显示",-1)])]),_:1}),V(p,{label:"隐藏",value:"2"},{default:C(()=>[...l[21]||(l[21]=[w("隐藏",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})])):x("",!0),V(_,{label:"权限字符",rules:[{required:!0,message:"请输入权限字符",trigger:"blur"}]},{default:C(()=>[V(b,{modelValue:T.form.perms,"onUpdate:modelValue":l[11]||(l[11]=e=>T.form.perms=e),require:"",placeholder:"请输入权限标识"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),V($,{modelValue:le.value,"onUpdate:modelValue":l[14]||(l[14]=e=>le.value=e),title:"选择图标",width:"60%","append-to-body":""},{default:C(()=>[S("div",N,[V(H,{gutter:20},{default:C(()=>[(g(!0),v(B,null,A(ae.value,e=>(g(),k(q,{key:e,xs:8,sm:6,md:4,lg:3,xl:2,class:"icon-item",onClick:l=>(e=>{T.form.icon=e,le.value=!1})(e)},{default:C(()=>[S("div",R,[(g(),k(M(j[e]),{class:"icon"})),S("span",z,P(e),1)])]),_:2},1032,["onClick"]))),128))]),_:1})])]),_:1},8,["modelValue"])],64)}}},J=e("D",I(H,[["__scopeId","data-v-4dc3b991"]])),K=Object.freeze(Object.defineProperty({__proto__:null,default:J},Symbol.toStringTag,{value:"Module"}));e("d",K)}}});
