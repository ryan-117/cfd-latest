System.register(["./element-plus-legacy.js","./index-legacy23.js","./index-legacy.js","./@vue-legacy.js","./dayjs-legacy.js","./ace-builds-legacy.js","./@element-plus-legacy.js","./lodash-es-legacy.js","./@popperjs-legacy.js","./async-validator-legacy.js","./@ctrl-legacy.js","./memoize-one-legacy.js","./normalize-wheel-es-legacy.js","./pinia-legacy.js","./pinia-plugin-persist-legacy.js","./vue-router-legacy.js","./axios-legacy.js","./js-cookie-legacy.js","./nprogress-legacy.js","./saduo-legacy.js"],function(e,l){"use strict";var a,s,t,u,n,o,c,d,r,i,y,g,m,p,f,j,_,v,b,h,w,V,W,x,L,k;return{setters:[e=>{a=e.E,s=e.q,t=e.r,u=e.L,n=e.M,o=e.B,c=e.C,d=e.f,r=e.n},e=>{i=e.g,y=e.u},e=>{g=e.h,m=e.A},e=>{p=e.W,f=e.r,j=e.n,_=e.ar,v=e.c,b=e.o,h=e.V,w=e.L,V=e.I,W=e.ab,x=e.K,L=e.a3,k=e.S},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){const l={class:"mr-10 ml-10"};e("default",{__name:"config",setup(e){const A=p({loading:!0,folderList:[],set:{id:0,template:"default",uploadWay:"1"}}),E=f(null);async function S(){try{const e=await i();if(200===e.code){const{id:l,template:a,uploadWay:s}=e.data;A.loading=!1,A.set={id:l,template:a,uploadWay:s}}else a({message:e.msg,type:"error"})}catch(e){console.log(e)}}function z(){E.value.validate(async e=>{if(!e)return console.log("error submit!!"),!1;await async function(){try{const e=await y(A.set);200===e.code?(a({message:"更新成功^_^",type:"success"}),await S()):a({message:e.msg,type:"error"})}catch(e){console.log(e)}}()})}return j(async()=>{await S(),await async function(){try{const e=await g({url:`${m.BASE_API}/cms/sysApp/folder`,method:"get"});200===e.code&&e.data.forEach(e=>{A.folderList.push({label:e,value:e})})}catch(e){console.log(e)}}()}),(e,a)=>{const i=n,y=u,g=t,m=c,p=o,f=d,j=s,S=r,B=_("permission-disabled");return b(),v("div",l,[h(S,{label:"应用配置",class:"mt-20",name:"config"},{default:w(()=>[h(j,{ref_key:"setFormRef",ref:E,model:A.set,"label-width":"120px"},{default:w(()=>[h(g,{prop:"template",label:"模板"},{default:w(()=>[h(y,{modelValue:A.set.template,"onUpdate:modelValue":a[0]||(a[0]=e=>A.set.template=e),placeholder:"请选择模板"},{default:w(()=>[(b(!0),v(V,null,W(A.folderList,(e,l)=>(b(),x(i,{key:l,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),h(g,{label:"上传方式"},{default:w(()=>[h(p,{modelValue:A.set.uploadWay,"onUpdate:modelValue":a[1]||(a[1]=e=>A.set.uploadWay=e),class:"ml-4"},{default:w(()=>[h(m,{value:"1"},{default:w(()=>[...a[2]||(a[2]=[L("普通",-1)])]),_:1}),h(m,{value:"2"},{default:w(()=>[...a[3]||(a[3]=[L("七牛云",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),h(g,null,{default:w(()=>[k((b(),x(f,{type:"primary",onClick:z},{default:w(()=>[...a[4]||(a[4]=[L("保存",-1)])]),_:1})),[[B,["editor","admin","super"]]])]),_:1})]),_:1},8,["model"])]),_:1})])}}})}}});
