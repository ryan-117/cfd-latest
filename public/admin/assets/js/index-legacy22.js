System.register(["./element-plus-legacy.js","./vue3-ace-editor-legacy.js","./ace-builds-legacy.js","./codefile-legacy.js","./index-legacy.js","./@vue-legacy.js","./dayjs-legacy.js","./@element-plus-legacy.js","./lodash-es-legacy.js","./@popperjs-legacy.js","./async-validator-legacy.js","./@ctrl-legacy.js","./memoize-one-legacy.js","./normalize-wheel-es-legacy.js","./resize-observer-polyfill-legacy.js","./js-cookie-legacy.js","./pinia-legacy.js","./pinia-plugin-persist-legacy.js","./vue-router-legacy.js","./axios-legacy.js","./nprogress-legacy.js","./saduo-legacy.js"],function(e,a){"use strict";var l,t,r,n,o,c,s,d,u,i,p,v,f,g,h,b,m,y,x,_,k,w,j,C,S,z,L,N,$,A,T,U;return{setters:[e=>{l=e.G,t=e.X,r=e.g,n=e.b,o=e.u,c=e.K,s=e.a},e=>{d=e.V},null,e=>{u=e.g,i=e.a,p=e.s},e=>{v=e._},e=>{f=e.r,g=e.e,h=e.n,b=e.p,m=e.ab,y=e.aq,x=e.c,_=e.o,k=e.O,w=e.a,j=e.L,C=e.T,S=e.K,z=e.a3,L=e.Q,N=e.J,$=e.u,A=e.H,T=e.I,U=e.ac},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var a=document.createElement("style");a.textContent=".editor-container[data-v-8190d54c]{height:calc(100vh - 109px);display:flex;flex-direction:column;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;color:#1a202c;border-radius:4px}.toolbar[data-v-8190d54c]{background-color:#565656;border-top-left-radius:4px;border-top-right-radius:4px}.toolbar .el-button-group[data-v-8190d54c]{display:flex}.toolbar .el-button-group .el-button[data-v-8190d54c]{display:flex;align-items:center;gap:5px;background-color:#565656;border:none;color:#e5eaef;transition:all .2s}.toolbar .el-button-group .el-button.el-button--primary[data-v-8190d54c]{background:center center #4a54ff;background-image:linear-gradient(315deg,#6772ff 0,#20c43d);background-size:104% 104%;color:#fff}.toolbar .el-button-group .el-button[data-v-8190d54c]:hover{background-color:#3e4a5e}.toolbar .el-button-group .el-button[data-v-8190d54c]:disabled{opacity:.6;cursor:not-allowed}.path-nav[data-v-8190d54c]{word-break:break-all;padding:10px 15px}.path-nav .el-breadcrumb[data-v-8190d54c]{flex-grow:1}.path-nav .el-breadcrumb[data-v-8190d54c] .el-breadcrumb__item{cursor:pointer}.path-nav .el-breadcrumb[data-v-8190d54c] .el-breadcrumb__item:hover{color:#63b3ed}.main-content[data-v-8190d54c]{display:flex;overflow:hidden}.file-tree[data-v-8190d54c]{width:175px;height:100%;overflow-y:auto;border-right:1px solid #4a5568}.file-tree[data-v-8190d54c] .el-tree{background-color:transparent;color:#1a202c}.file-tree[data-v-8190d54c] .el-tree .el-tree-node{margin:5px 0}.file-tree[data-v-8190d54c] .el-tree .el-tree-node__content{height:36px;padding:0 8px;transition:background-color .2s}.file-tree[data-v-8190d54c] .el-tree .el-tree-node__content:hover{background-color:rgba(66,153,225,.1)}.file-tree[data-v-8190d54c] .el-tree .el-tree-node.is-current>.el-tree-node__content{background-color:rgba(66,153,225,.2);border-left:2px solid #4299e1}.file-tree[data-v-8190d54c] .el-tree .el-tree-node__expand-icon{color:#cbd5e0;font-size:16px}.file-tree[data-v-8190d54c] .el-tree .el-tree-node__expand-icon.expanded{transform:rotate(0)}.file-tree .tree-node[data-v-8190d54c]{padding:3px 0;font-size:14px;width:100%}.file-tree .node-label[data-v-8190d54c]{flex-grow:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.file-tree .file-badge[data-v-8190d54c]{background-color:#4a5568;border-radius:3px;padding:0 4px;color:#cbd5e0}.editor-area[data-v-8190d54c]{width:calc(100% - 160px);height:100%;position:relative}.editor-area .editor-wrapper[data-v-8190d54c]{height:100%}.editor-area .welcome-screen[data-v-8190d54c]{background-color:#1a202c;text-align:center}.editor-area .welcome-screen .supported-files[data-v-8190d54c]{margin-top:30px}.editor-area .status-bar[data-v-8190d54c]{z-index:100}\n/*$vite$:1*/",document.head.appendChild(a);const I={class:"editor-container bg-fff"},E={class:"main-content",style:{height:"calc(100vh - 90px)"}},J={span:4,class:"file-tree overflow-auto bg-gray-800"},K={class:"tree-node flex items-center"},M={class:"node-label"},O={span:20,class:"editor-area bg-gray-900"},B={key:0,class:"editor-wrapper h-full relative"},G={class:"status-bar absolute bottom-0 left-0 right-0 bg-gray-800 text-gray-400 text-xs p-2 flex justify-between"},H={class:"ml-3"},V={key:0},W={key:1,class:"welcome-screen h-full flex flex-col justify-center items-center text-gray-500"},q={class:"supported-files flex mt-8 gap-6"};e("default",v({__name:"index",setup(e){const a=f([]),v=f([]),F=f("/"),P=f(null),Q=f(""),R=f(""),X=f(!1),D=f(null),Y=f(null),Z=f(!1),ee=f(!1),ae=f(null),le=f(""),te=f(!1),re=f("html"),ne=e=>{re.value=e,xe()},oe=f([{ext:"html",name:"HTML",color:"text-pink-400"},{ext:"css",name:"CSS",color:"text-green-400"},{ext:"js",name:"JavaScript",color:"text-blue-400"},{ext:"json",name:"JSON",color:"text-yellow-400"}]),ce=g(()=>({fontSize:14,tabSize:2,useWorker:!0,showPrintMargin:ee.value,showLineNumbers:!0,highlightActiveLine:!0,enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,behavioursEnabled:!0,wrap:Z.value})),se={children:"children",label:"name"},de=g(()=>{if(!P.value)return"text";switch(ie(P.value.name)){case"html":return"html";case"css":return"css";case"js":return"javascript";case"json":return"json";default:return"text"}}),ue=(e,a)=>!e||a.name.toLowerCase().includes(e.toLowerCase());h(()=>{xe()});const ie=e=>e.split(".").pop()||"",pe=e=>/\.html?$/.test(e),ve=e=>/\.css$/.test(e),fe=e=>/\.json$/.test(e),ge=e=>{Y.value=e,e.setOptions({enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0}),e.selection.on("changeCursor",()=>{ae.value=e.selection.getCursor()})},he=()=>{X.value=Q.value!==R.value},be=async e=>{try{const a=await i({path:e.path});if(200==a.code){const l=a.data;Q.value=l,R.value=l,X.value=!1;const t=ie(e.name);le.value=t.toUpperCase(),P.value=e}}catch(a){console.error("打开文件失败:",a),s.error("打开文件失败，请重试")}},me=async()=>{if(P.value&&X.value)try{await p({path:P.value.path,content:Q.value}),R.value=Q.value,X.value=!1,s.success("文件保存成功")}catch(e){console.error("保存文件失败:",e),s.error("保存文件失败，请重试")}},ye=e=>{D.value&&setTimeout(()=>{try{const a=D.value.getNode(e);a&&!a.expanded&&D.value.store.setExpanded(e,!0)}catch(a){console.warn("展开节点失败",a)}},100)},xe=async()=>{try{const e=await u({type:re.value});a.value=e.data,v.value=e.data,b(()=>{if(D.value&&!te.value&&v.value.length>0){const e=v.value.find(e=>"file"===e.type);e&&(Se(e),be(e)),te.value=!0}})}catch(e){console.error("加载文件树失败:",e)}},_e=()=>{Y.value&&Y.value.execCommand("find")},ke=()=>{Y.value&&Y.value.execCommand("replace")},we=()=>{Y.value&&Y.value.execCommand("gotoline")},je=()=>{Z.value=!Z.value,Y.value&&Y.value.session.setUseWrapMode(Z.value)},Ce=()=>{ee.value=!ee.value},Se=(e,a)=>{D.value&&e.path&&D.value.setCurrentKey(e.path),"file"===e.type?be(e):(F.value=e.path,a.childNodes&&0!==a.childNodes.length?ye(e.path):ze(e.path))},ze=async e=>{try{const l=await u({type:re.value}),t=(e,a,l)=>{for(let r=0;r<e.length;r++){const n=e[r];if(n.path===a)return n.children=l,!0;if(n.children&&n.children.length&&t(n.children,a,l))return!0}return!1};t(a.value,e,l.data),v.value=[...a.value],ye(e)}catch(l){console.error("加载子目录失败:",l)}};return(e,a)=>{const s=m("document-add"),u=n,i=r,p=m("refresh"),f=m("search"),g=m("position"),h=m("border"),b=t,F=l,R=o,Y=m("folder"),te=m("document"),ie=c,be=y("permission-disabled");return _(),x("div",I,[k(R,{class:"toolbar bg-gray-800 text-white"},{default:j(()=>[k(F,{span:24,class:"flex items-center"},{default:j(()=>[k(b,{gap:"0"},{default:j(()=>[C((_(),S(i,{type:"primary",onClick:me,disabled:!X.value},{default:j(()=>[k(u,null,{default:j(()=>[k(s)]),_:1}),a[3]||(a[3]=z(" 保存 "))]),_:1},8,["disabled"])),[[be,["editor","admin","super"]]]),k(i,{onClick:xe},{default:j(()=>[k(u,null,{default:j(()=>[k(p)]),_:1}),a[4]||(a[4]=z(" 刷新 "))]),_:1}),k(i,{onClick:_e},{default:j(()=>[k(u,null,{default:j(()=>[k(f)]),_:1}),a[5]||(a[5]=z(" 搜索 "))]),_:1}),k(i,{onClick:ke},{default:j(()=>[k(u),a[6]||(a[6]=z(" 替换 "))]),_:1}),k(i,{onClick:we},{default:j(()=>[k(u,null,{default:j(()=>[k(g)]),_:1}),a[7]||(a[7]=z(" 跳转 "))]),_:1}),k(i,{onClick:je},{default:j(()=>[k(u,null,{default:j(()=>a[8]||(a[8]=[w("switch",null,null,-1)])),_:1}),z(" "+L(Z.value?"不换行":"换行"),1)]),_:1}),k(i,{onClick:Ce},{default:j(()=>[k(u,null,{default:j(()=>[k(h)]),_:1}),z(" "+L(ee.value?"隐藏边线":"显示边线"),1)]),_:1})]),_:1})]),_:1})]),_:1}),w("div",E,[w("div",J,[k(R,{class:"mb-4 pd-10"},{default:j(()=>[k(i,{type:"html"==re.value?"primary":"default",onClick:a[0]||(a[0]=e=>ne("html"))},{default:j(()=>a[9]||(a[9]=[z("html")])),_:1},8,["type"]),k(i,{type:"css"==re.value?"primary":"default",onClick:a[1]||(a[1]=e=>ne("static"))},{default:j(()=>a[10]||(a[10]=[z("static")])),_:1},8,["type"])]),_:1}),k(ie,{ref_key:"treeRef",ref:D,data:v.value,props:se,"filter-node-method":ue,"node-key":"path","highlight-current":"","current-node-key":P.value?.path,onNodeClick:Se},{default:j(({node:e,data:a})=>[w("span",K,[k(u,{class:"mr-2"},{default:j(()=>{return["directory"===a.type?(_(),S(Y,{key:0,class:"text-amber-400"})):(_(),S(te,{key:1,class:N({"text-blue-400":(e=a.name,/\.js$/.test(e)),"text-pink-400":pe(a.name),"text-green-400":ve(a.name),"text-yellow-400":fe(a.name)})},null,8,["class"]))];var e}),_:2},1024),w("span",M,L(e.label),1)])]),_:1},8,["data","current-node-key"])]),w("div",O,[P.value?(_(),x("div",B,[k($(d),{value:Q.value,"onUpdate:value":a[2]||(a[2]=e=>Q.value=e),lang:de.value,theme:"monokai",style:{height:"100%"},options:ce.value,onInit:ge,onChange:he},null,8,["value","lang","options"]),w("div",G,[w("div",null,[w("span",null,L(le.value),1),a[11]||(a[11]=w("span",{class:"ml-3"},"编码: UTF-8",-1)),w("span",H,L(Z.value?"换行":"不换行"),1)]),w("div",null,[ae.value?(_(),x("span",V,"行 "+L(ae.value.row+1)+", 列 "+L(ae.value.column+1),1)):A("",!0)])])])):(_(),x("div",W,[k(u,{class:"text-5xl mb-4"},{default:j(()=>[k(te)]),_:1}),a[12]||(a[12]=w("h2",{class:"text-xl mb-2"},"欢迎使用在线文件编辑器",-1)),a[13]||(a[13]=w("p",null,"请从左侧文件树中选择一个文件进行编辑",-1)),w("div",q,[(_(!0),x(T,null,U(oe.value,e=>(_(),x("div",{class:"file-type flex flex-col items-center",key:e.ext},[k(u,{class:N([e.color,"text-4xl mb-2"])},{default:j(()=>[k(te)]),_:2},1032,["class"]),w("span",null,L(e.name),1)]))),128))])]))])])])}}},[["__scopeId","data-v-8190d54c"]]))}}});
